%%% ----------
\section{Структура меню} \label{sec:structure}

Структура меню АВАНТ Р400 показана на рисунке~\ref{fig:structure}.

\begin{figure}[H]
	\centering

	\begin{tikzpicture}[
		block/.style={
		draw, 
		font=\small,
		text width={3.75cm)},
		align=left}]
		
		\node[font=\small, draw]	(level0)	at (00.0,+00.0) {Уровень 0};
		\node[block, align=center]	(level1)	at (03.5,+00.0) {Уровень 1};
		\node[block, align=center]	(level2)	at (08.0,+00.0) {Уровень 2};
		\node[block, align=center]	(level3) 	at (12.5,+00.0) {Уровень 3};
		
		\node[block] (journal) 			at (03.5,-01.0) {\hyperref[ssec:journal]{1.Журнал.}};
		\draw (node cs:name=journal,anchor=west) |- (0,-1);
		\node[block] (journal1) 		at (08.0,-02.0) {\hyperref[sssec:journal_event]{1.Журнал событий}};
		\draw (node cs:name=journal1,anchor=west) |- (3.5,-2);
		\node[block] (journal2) 		at (08.0,-03.0) {\hyperref[sssec:journal_def]{2.Журнал защиты}};
		\draw (node cs:name=journal2,anchor=west) |- (3.5,-3) |- (node cs:name=journal,anchor=south);
		
		\node[block] (datetime)	 		at (03.5,-04.0) {\hyperref[ssec:datetime]{2.Дата/время.}};
		\draw (node cs:name=datetime,anchor=west) |- (0, -4);
% 		\node[block] (datetime1)	 	at (08.0,-05.0) {1.Дата.};
% 		\draw (node cs:name=datetime1,anchor=west) |- (3.5,-5);
% 		\node[block] (datetime2)	 	at (08.0,-06.0) {2.Время.};
% 		\draw (node cs:name=datetime2,anchor=west) |- (3.5,-6) |-
% 				(node cs:name=datetime,anchor=south);
		
		\node[block] (control) 			at (03.5,-05.0) {\hyperref[ssec:control]{3.Управление.}};
		\draw (node cs:name=control,anchor=west) |- (0,-5);
		
		\node[block] (setup) 			at (03.5,-06.0) {\hyperref[ssec:setup]{4.Установить.}};
		\draw (node cs:name=setup,anchor=west) |- (0,-6);
		\node[block] (setup1) 			at (08.0,-07.0) {\hyperref[sssec:setup_regime]{1.Режим.}};
		\draw (node cs:name=setup1,anchor=west) |- (3.5,-7);
		\node[block] (setup2) 			at (08.0,-08.0) {\hyperref[sssec:setup_param]{2.Параметры.}};
		\draw (node cs:name=setup2,anchor=west) |- (3.5,-8);
		\node[block] (setup2-1) 		at (12.5,-09.0) {\hyperref[sssec:setup_param_def]{1.Защита.}};
		\draw (node cs:name=setup2-1,anchor=west) |- (8,-9);
		\node[block] (setup2-2) 		at (12.5,-10.0) {\hyperref[sssec:setup_param_glb]{2.Общие.}};
		\draw (node cs:name=setup2-2,anchor=west) |- (8,-10) |- (node cs:name=setup2,anchor=south);
		\node[block] (setup3) 			at (08.0,-11.0) {\hyperref[sssec:password]{3.Пароль.}};
		\draw (node cs:name=setup3,anchor=west) |- (3.5,-11);
		\node[block] (setup4) 			at (08.0,-12.0) {\hyperref[sssec:test]{*4.Тест.}};
		\draw (node cs:name=setup4,anchor=west) |- (3.5,-12) |- (node cs:name=setup,anchor=south);
		
		\node[block] (view) 			at (03.5,-13,0) {\hyperref[ssec:view]{5.Просмотр парам.}};
		\draw (node cs:name=view,anchor=west) |- (0,-13);
		\node[block] (view1) 			at (08.0,-14.0) {1.Защита.};
		\draw (node cs:name=view1,anchor=west) |- (3.5,-14);
		\node[block] (view2) 			at (08.0,-15.0) {2.Общие.};
		\draw (node cs:name=view2,anchor=west) |- (3.5,-15) |- (node cs:name=view,anchor=south);
		
		\node[block] (autocontrol) 		at (03.5,-16.0) {\hyperref[ssec:autocontrol]{6.Автоконтроль.}};
		\draw (node cs:name=autocontrol,anchor=west) |- (0, -16);
		
		\node[block] (protocol) 		at (03.5,-17.0) {\hyperref[ssec:protocol]{7.Протокол.}};
		\draw (node cs:name=protocol,anchor=west) |- (0,-17) |- (node cs:name=level0,anchor=south);
		
		\node[block,dashed] (info)		at (03.5,-18.0) {\hyperref[ssec:info]{8.Информация.}};
		\draw [dashed](node cs:name=info,anchor=west) |- (0,-18) |- (node cs:name=level0,anchor=south);
	\end{tikzpicture}
	
	\caption{Структура меню АВАНТ Р400}
	\label{fig:structure}
\end{figure}

Примечание: * - пункт \textbf{<<Тест>>} появляется только при переходе в один из тестовых режимов.

Меню имеет три уровня иерархии. Переход на уровень~0 меню осуществляется нажатием кнопки \textbf{[*]}. 

Пункт \textbf{<<Информация>>} используется для просмотра текущих версий прошивок аппарата, а также дополнительных сервисных функций. На уровне~1 меню он скрыт, но переход по нажатию кнопки возможен.

Внешний вид идикатора в первом уровне показан на рисунке~\ref{fig:structure_level1}.

\begin{figure}[H]
	\centering
	
	\begin{tabular}{| m{2.5cm}  m{2.5cm} |}
		\firsthline
	    330кГц	& \raggedleft I1=360мА			\tabularnewline 
	    \multicolumn{2}{|l|} {1.Журнал.} 		\tabularnewline 
	    \multicolumn{2}{|l|} {2.Дата/время.}	\tabularnewline 
	    \multicolumn{2}{|l|} {3.Управление.} 	\tabularnewline \hline
	    \multicolumn{2}{ c } {$\downarrow$}		\tabularnewline
	    \multicolumn{2}{|l|} {4.Установить.} 	\tabularnewline 
	    \multicolumn{2}{|l|} {5.Просмотр парам.}\tabularnewline 
	    \multicolumn{2}{|l|} {6.Автоконтроль.} 	\tabularnewline 
	    \multicolumn{2}{|l|} {7.Протокол.}		\tabularnewline  
	    \lasthline
	\end{tabular} 
	
	\caption{Первый	уровень меню}
	\label{fig:structure_level1}
\end{figure}

Назначение кнопок на данном уровне меню показано ниже.
\begin{center}
	\begin{tabular}{p{2.5cm} p{14.5cm}}
	    \textbf{[$\uparrow$]} & - листание списка подуровней вверх; 	\tabularnewline
	    \textbf{[$\downarrow$]} & - листание списка подуровней вниз; 	\tabularnewline
	    \textbf{[1]} \ldots \textbf{[8]} & - переход на следующий уровень меню; \tabularnewline
	    \textbf{[*]} & - возврат на уровень~0 меню; 					\tabularnewline
	    \textbf{[CE/C]} & - переход на предыдущий уровень меню. \tabularnewline				
	\end{tabular} 
\end{center}


